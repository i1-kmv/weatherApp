(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){e.exports={weather:"Weather_weather__3QO0d",form:"Weather_form__3NiS5",input:"Weather_input__3lWCT",form_button:"Weather_form_button__2Pb0q",data:"Weather_data__2yGKm",description:"Weather_description__oLZDG",description_image:"Weather_description_image__7AcOh",back:"Weather_back__2hTVB",error_message:"Weather_error_message__32kFX"}},28:function(e,t,n){e.exports={wrap:"Time_wrap___7kZ8",time:"Time_time__JqdRo"}},39:function(e,t,n){e.exports={menu:"Menu_menu__F8T3-"}},40:function(e,t,n){e.exports={btn:"MenuButton_btn__CQFmV"}},42:function(e,t,n){e.exports={back:"BackButton_back__2VDmM"}},53:function(e,t,n){},54:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(19),a=n.n(c),i=(n(53),n(4)),o=(n(54),n(6)),s=n(3),u={timeMode:!1,weatherMode:!1,menuMode:!1},j=function(e){return{type:"MENU/SET-TIME-MODE",timeMode:e}},d=function(e){return{type:"MENU/SET-WEATHER-MODE",weatherMode:e}},b=function(e){return{type:"MENU/SET-MENU-MODE",menuMode:e}},h=n(39),O=n.n(h),m=n(40),E=n.n(m),l=n(1),p=function(e){return Object(l.jsx)("button",{className:E.a.btn,onClick:e.onButtonClickHandler,children:e.title})},f=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.menu.timeMode})),n=Object(o.c)((function(e){return e.menu.weatherMode}));return t?Object(l.jsx)(i.a,{to:"/time"}):n?Object(l.jsx)(i.a,{to:"/weather"}):Object(l.jsxs)("div",{className:O.a.menu,children:[Object(l.jsx)(p,{onButtonClickHandler:function(){e(b(!1)),e(j(!0))},title:"Time"}),Object(l.jsx)(p,{onButtonClickHandler:function(){e(b(!1)),e(d(!0))},title:"Weather"})]})},T={time:""},x=function(e){return{type:"TIME/SET-TIME",time:e}},_=n(28),w=n.n(_),M=n(42),v=n.n(M),y=n.p+"static/media/left.ff0e6283.svg",g=function(e){return Object(l.jsxs)("button",{className:v.a.back,onClick:e.onExitButtonHandler,children:[Object(l.jsx)("img",{src:y,alt:""}),"main menu"]})},S=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.menu.menuMode})),n=Object(o.c)((function(e){return e.time.time}));Object(r.useEffect)((function(){e(x((new Date).toTimeString().replace(/ .*/,"")));var t=setInterval((function(){e(x((new Date).toTimeString().replace(/ .*/,"")))}),1e3);return function(){return t}}),[e]);return t?Object(l.jsx)(i.a,{to:"/"}):Object(l.jsxs)("div",{className:w.a.wrap,children:[Object(l.jsx)("div",{className:w.a.time,children:n}),Object(l.jsx)(g,{onExitButtonHandler:function(){e(j(!1)),e(b(!0))}})]})},R=n(48),W=n(29),A=n.n(W),N=n(45),H=n(46),k=n.n(H).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),D=function(e){return k.get("weather?q=".concat(e,"&appid=3123bb7bb014e9442d795d8cfd1b27ff"))},I={city:"",weather:"",description:"",weatherSrc:"",dataLoading:!1,error:!1},C=function(e){return{type:"WEATHER/SET-CITY",city:e}},B=function(e){return{type:"WEATHER/DATA-LOADING",dataLoading:e}},L=function(e){return{type:"WEATHER/SET-ERROR",error:e}},U=n(15),q=n.n(U),P=function(){var e=Object(R.a)({initialValues:{city:""},validate:function(e){var t={};return e.city||(t.city="Required"),t},onSubmit:function(e){var n;t((n=e.city.trim(),function(){var e=Object(N.a)(A.a.mark((function e(t){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(B(!0)),e.next=4,D(n);case 4:r=e.sent,t(C(r.data.name)),t({type:"WEATHER/SET-WEATHER-SRC",weatherSrc:r.data.weather[0].icon}),t({type:"WEATHER/SET-WEATHER-DESCRIPTION",description:r.data.weather[0].description}),t({type:"WEATHER/SET-WEATHER",weather:r.data.main.temp}),t(B(!1)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),C(""),t(B(!1)),t(L(!0));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())),t(L(!1)),t(C("")),e.city=""}}),t=Object(o.b)(),n=Object(o.c)((function(e){return e.menu.menuMode})),r=Object(o.c)((function(e){return e.weather.city})),c=Object(o.c)((function(e){return e.weather.weatherSrc})),a=Object(o.c)((function(e){return e.weather.weather})),u=Object(o.c)((function(e){return e.weather.description})),j=Object(o.c)((function(e){return e.weather.dataLoading})),h=Object(o.c)((function(e){return e.weather.error})),O="https://openweathermap.org/img/wn/".concat(c,".png"),m=a?Math.round(+a-273).toString():"";return n?Object(l.jsx)(i.a,{to:"/"}):Object(l.jsxs)("div",{className:q.a.weather,children:[Object(l.jsxs)("form",{className:q.a.form,onSubmit:e.handleSubmit,children:[e.errors.city?Object(l.jsx)("div",{children:e.errors.city}):null,Object(l.jsx)("input",Object(s.a)({className:q.a.input,type:"text"},e.getFieldProps("city"))),Object(l.jsx)("button",{className:q.a.form_button,disabled:j,children:"request the weather"})]}),j?Object(l.jsx)("div",{children:"Loading"}):r&&Object(l.jsxs)("div",{className:q.a.data,children:[Object(l.jsxs)("div",{children:["City: ",Object(l.jsx)("b",{children:r})]}),Object(l.jsxs)("div",{children:["weather: ",Object(l.jsxs)("b",{children:[m," ",Object(l.jsx)("sup",{children:"O"}),"C"]})]}),Object(l.jsxs)("div",{className:q.a.description,children:[Object(l.jsxs)("span",{children:["description: ",Object(l.jsx)("b",{children:u})]}),Object(l.jsx)("img",{className:q.a.description_image,src:O,alt:"weather image"})]})]}),h&&Object(l.jsx)("div",{className:q.a.error_message,children:"An error occurred when requesting. Please check if the city name is correct and try again."}),Object(l.jsx)(g,{onExitButtonHandler:function(){t(d(!1)),t(b(!0)),t(C("")),t(L(!1))}})]})};var F=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"Welcome to WeatherApp"}),Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(l.jsx)(f,{})}}),Object(l.jsx)(i.b,{path:"/time",render:function(){return Object(l.jsx)(S,{})}}),Object(l.jsx)(i.b,{path:"/weather",render:function(){return Object(l.jsx)(P,{})}})]})]})},G=n(17),V=n(23),J=n(47),Q=Object(V.b)({menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU/SET-TIME-MODE":return Object(s.a)(Object(s.a)({},e),{},{timeMode:t.timeMode});case"MENU/SET-WEATHER-MODE":return Object(s.a)(Object(s.a)({},e),{},{weatherMode:t.weatherMode});case"MENU/SET-MENU-MODE":return Object(s.a)(Object(s.a)({},e),{},{menuMode:t.menuMode});default:return Object(s.a)({},e)}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER/SET-CITY":return Object(s.a)(Object(s.a)({},e),{},{city:t.city});case"WEATHER/SET-WEATHER":return Object(s.a)(Object(s.a)({},e),{},{weather:t.weather});case"WEATHER/SET-WEATHER-SRC":return Object(s.a)(Object(s.a)({},e),{},{weatherSrc:t.weatherSrc});case"WEATHER/SET-WEATHER-DESCRIPTION":return Object(s.a)(Object(s.a)({},e),{},{description:t.description});case"WEATHER/DATA-LOADING":return Object(s.a)(Object(s.a)({},e),{},{dataLoading:t.dataLoading});case"WEATHER/SET-ERROR":return Object(s.a)(Object(s.a)({},e),{},{error:t.error});default:return e}},time:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIME/SET-TIME":return Object(s.a)(Object(s.a)({},e),{},{time:t.time});default:return e}}}),Y=Object(V.c)(Q,Object(V.a)(J.a));a.a.render(Object(l.jsx)(o.a,{store:Y,children:Object(l.jsx)(G.a,{children:Object(l.jsx)(F,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.23829b56.chunk.js.map